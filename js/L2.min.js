/*! L2 [1.0.0] 2015-02-13, 04:21:46 PM */
var L2={__version:"L2 Graphics lib v.1.0.0"};L2.version=function(){console.log(L2.__version)},L2.zfill=function(a,b,c){b=b||2,c=c||"0";for(var d=a.length;b>d;d++)a=c+a;return a},L2.frac=function(a){return a-parseInt(a)},L2.hexToDec=function(a){var b=a.match(/[\da-fA-F]+/g);return 0==b.length?0/0:parseInt(b[0],16)},L2.decToHex=function(a,b,c){return L2.zfill(a.toString(16),b||6,c)},L2.mix=function(a,b,c){return a+c*(b-a)},L2.rasterLine=function(a,b,c,d,e,f){a=parseInt(a),b=parseInt(b),c=parseInt(c),d=parseInt(d);var g,h,i,j,k,l,m=Math.abs(c-a),n=Math.abs(d-b);if(e=e||[],f=f||0,m>n)for(j=c>a?1:-1,k=d>b?1:-1,l=c+j,g=0,h=a,i=b;h!=l;h+=j)e[f++]=h,e[f++]=i,g+=n,g<<1>m&&(i+=k,g-=m);else for(j=d>b?1:-1,k=c>a?1:-1,l=d+j,g=0,h=a,i=b;i!=l;i+=j)e[f++]=h,e[f++]=i,g+=m,g<<1>n&&(h+=k,g-=n);return e},L2.rasterLineBetweenVec2=function(a,b){return L2.rasterLine(a.x,a.y,b.x,b.y)},L2.rasterAntialiasingLine=function(a,b,c,d,e,f){a=parseInt(a),b=parseInt(b),c=parseInt(c),d=parseInt(d),e=e||[],f=f||0;var g,h,i=Math.abs(c-a),j=Math.abs(d-b),k=a,l=b;if(i>j)for(m=d>b?j/i:-j/i,h=c>a?1:-1,g=c+h;k!=g;k+=h)e[f++]=k,e[f++]=Math.round(l),e[f++]=1,l+=m;else for(m=c>a?i/j:-i/j,h=d>b?1:-1,g=d+h;l!=g;l+=h)e[f++]=Math.round(k),e[f++]=k,e[f++]=1,k+=m;return e},L2.EventDispatcher=function(){},L2.EventDispatcher.prototype={constructor:L2.EventDispatcher,addEventListener:function(a,b){void 0===this._listeners&&(this._listeners={}),void 0===this._listeners[a]&&(this._listeners[a]=[]);var c=this._listeners[a];-1===c.indexOf(b)&&c.push(b)},removeEventListener:function(a,b){if(this.hasEventListener(a)){var c=this._listeners[a].indexOf(b);-1!==c&&this._listeners[a].splice(c,1)}},hasEventListener:function(a){return void 0===this._listeners||void 0===this._listeners[a]||0===this._listeners[a].length?!1:!0},dispatchEvent:function(a){if(this.hasEventListener(a.type)){var b,c,d=this._listeners[a.type],e=[];for(a.target=this,b=0,c=d.length;c>b;b++)e.push(d[b]);for(b=0,c=e.length;c>b;b++)e[b].apply(this,[a])}}},L2.Container=function(){L2.EventDispatcher.call(this),this.children=[]},L2.Container.prototype=Object.create(L2.EventDispatcher.prototype),L2.Container.prototype.addChild=function(a){this.addChildAt(a,this.children.length)},L2.Container.prototype.addChildAt=function(a,b){this.children.splice(b,0,a),a.parent=this,a.stage=this.stage},L2.Container.prototype.removeChild=function(a){var b=this.children.indexOf(a);return-1==b?null:this.removeChildAt(b)},L2.Container.prototype.removeChildAt=function(a){return 0>a||a>this.children.length?null:this.children.splice(a,1)[0]},L2.Stage=function(){L2.Container.call(this)},L2.Stage.prototype=Object.create(L2.Container.prototype),L2.Vec2=function(a,b){this.raw=new L2.Vec2.ARRAY_TYPE(2),this.raw[0]=a||0,this.raw[1]=b||0},L2.Vec2.ARRAY_TYPE=Float32Array,L2.Vec2.prototype={constructor:L2.Vec2,get x(){return this.raw[0]},set x(a){this.raw[0]=a},get y(){return this.raw[1]},set y(a){this.raw[1]=a},set:function(a){return this.raw[0]=a[0]||0,this.raw[1]=a[1]||0,this},add:function(a){return this.raw[0]+=a.raw[0],this.raw[1]+=a.raw[1],this},sub:function(a){return this.raw[0]-=a.raw[0],this.raw[1]-=a.raw[1],this},mul:function(a){return this.raw[0]*=a.raw[0],this.raw[1]*=a.raw[1],this},div:function(a){this.raw[0]/=a.raw[0],this.raw[1]/=a.raw[1]},scale:function(a){return this.raw[0]*=a,this.raw[1]*=a,this},dot:function(a){return this.raw[0]*a.raw[0]+this.raw[1]*a.raw[1]},normal:function(a){var b=this.raw[0],c=this.raw[1];return a?(this.raw[0]=c,this.raw[1]=-b):(this.raw[0]=-c,this.raw[1]=b),this},normalize:function(){var a=this.length();return this.raw[0]/=a,this.raw[1]/=a,this},length:function(){var a=this.raw[0],b=this.raw[1];return Math.sqrt(a*a+b*b)},squareLength:function(){var a=this.raw[0],b=this.raw[1];return a*a+b*b},rotate:function(a){var b=this.raw[0],c=this.raw[1],d=Math.cos(a),e=Math.sin(a);return this.raw[0]=d*b-e*c,this.raw[1]=e*b+d*c,this},clone:function(){return(new L2.Vec2).set(this.raw)},toString:function(){return"("+this.raw[0]+", "+this.raw[1]+")"}};